<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>SixArm.com » Ruby » <br> XID excellent identifier</h1>

<p><a href="https://codeclimate.com/github/SixArm/sixarm_ruby_xid"><img src="https://codeclimate.com/github/SixArm/xid.png" alt="Code Climate"></a>
<a href="https://travis-ci.org/SixArm/sixarm_ruby_xid"><img src="https://travis-ci.org/SixArm/xid.png" alt="Build Status"></a></p>

<ul>
<li>Doc: <a href="http://sixarm.com/sixarm_ruby_xid/doc">http://sixarm.com/sixarm_ruby_xid/doc</a></li>
<li>Gem: <a href="http://rubygems.org/gems/sixarm_ruby_xid">http://rubygems.org/gems/sixarm_ruby_xid</a></li>
<li>Repo: <a href="http://github.com/sixarm/sixarm_ruby_xid">http://github.com/sixarm/sixarm_ruby_xid</a></li>
<li>Email: Joel Parker Henderson, <a href="mailto:joel@sixarm.com">joel@sixarm.com</a></li>
</ul>

<h2>Introduction</h2>

<p>XID is an excellent identifier. The XID much like a UUID (Universally Unique Identifier) or GUID (Globally Unique Identifer).</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>XID</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='comment'>#=&gt; &quot;90f44e35a062479289ff75ab2abc0ed3&quot;
</span></code></pre>

<p>What makes the XID excellent: a streamlined specfication, stronger security, speedier algorithms, and simple string comparisons.</p>

<p>XID specification:</p>

<ul>
<li>128 bit.</li>
<li>Completely random and generated with a secure random generator.</li>
<li>The string representation is entirely hexidecimal: digits 0-9 and lowercase a-f.</li>
</ul>

<p>For docs go to <a href="http://sixarm.com/sixarm_ruby_xid/doc">http://sixarm.com/sixarm_ruby_xid/doc</a></p>

<p>Want to help? We&#39;re happy to get pull requests.</p>

<h2>Install quickstart</h2>

<p>Install:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_sixarm_ruby_xid'>sixarm_ruby_xid</span>
</code></pre>

<p>Bundler:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sixarm_ruby_xid</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt;=3.2.0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;4</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>Require:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sixarm_ruby_xid</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<h2>Install with security (optional)</h2>

<p>To enable high security for all our gems:</p>

<pre class="code ruby"><code class="ruby">wget http://sixarm.com/sixarm.pem
gem cert --add sixarm.pem
gem sources --add http://sixarm.com
</code></pre>

<p>To install with high security:</p>

<pre class="code ruby"><code class="ruby">gem install sixarm_ruby_xid --trust-policy HighSecurity
</code></pre>

<h2>Details</h2>

<p>Methods:</p>

<ul>
<li><code>XID.new</code>: create an XID and initialize to a random string.</li>
<li>`XID.new(s): create an XID and initialize to a given string.</li>
<li><code>XID#digest</code>: return a SHA256 digest as a 64-character string.</li>
<li><code>XID.digest(s)</code>: return a SHA256 digest as a 64-character string.</li>
</ul>

<p>Notes:</p>

<ul>
<li>XID uses Ruby&#39;s SecureRandom methods for strong security.</li>
<li>An XID is a Ruby string, so you can do any string methods on it.</li>
</ul>

<h2>UUID comparison</h2>

<p>The XID is much like a UUID:</p>

<ul>
<li>The XID and UUID are both 128 bit.</li>
<li>The XID has one form. The UUID has multiple forms, known as variants and versions.</li>
<li>The XID is completely random. The UUID may have non-random pieces, such as a MAC sequence, and a fixed bit for the variant and version.</li>
<li>The XID specification requires the use of a secure random generator. The UUID has no guarantee, and some forms use predicatable sequences.</li>
<li>The XID uses digits 0-9 and lowecase a-f. The UUID canoncical form uses dashes to separate sequencies, and may use uppercase or lowercase.</li>
</ul>

<p>To format an XID in the style of a UUID canonical representation:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_xid'>xid</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>90f44e35a062479289ff75ab2abc0ed3</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_xid'>xid</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(.{8})(.{4})(.{4})(.{16})</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embvar'>#</span><span class='backref'>$1</span><span class='tstring_content'>-</span><span class='embvar'>#</span><span class='backref'>$2</span><span class='tstring_content'>-</span><span class='embvar'>#</span><span class='backref'>$3</span><span class='tstring_content'>-</span><span class='embvar'>#</span><span class='backref'>$4</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; &quot;90f44e35-a062-4792-89ff75ab2abc0ed3&quot;
</span></code></pre>

<p>Note: the result string is formatted like a UUID, but is not guaranteed to be valid UUID. This is because the XID is random, whereas the UUID specification requires a specific bit that indicates the UUID is random.</p>

<p>To format a UUID in the style of an XID:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_uuid'>uuid</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>14fFE137-2DB2-4A37-A2A4-A04DB1C756CA</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_uuid'>uuid</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>-</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
<span class='comment'>#=&gt; &quot;&quot;14f7e1372db24a37a2a4a04db1c756ca&quot;
</span></code></pre>

<p>Note: the result string is formatted like a XID, but is not a valid XID. This is because there&#39;s no guarantee that the UUID was randomly generated using a secure random generator, and also because the UUID-4 specification requires a random UUID to set the third section&#39;s first digit to 4.</p>

<h2>Unix tooling</h2>

<p>To generate an XID on a typical Unix system, one way is the hexdump command:</p>

<pre class="code ruby"><code class="ruby">$ hexdump -n 16 -v -e &#39;16/1 &quot;%02x&quot; &quot;\n&quot;&#39; /dev/random
b29dd48b7040f788fd926ebf1f4eddd0
</code></pre>

<p>To digest an XID by using SHA256:</p>

<pre class="code ruby"><code class="ruby">$ echo -n &quot;b29dd48b7040f788fd926ebf1f4eddd0&quot; | shasum -a 256
afdfb0400e479285040e541ee87d9227d5731a7232ecfa5a07074ee0ad171c64
</code></pre>

<h2>Database tooling</h2>

<p>To store an XID in a database, one way is using a string field that is 32 characters long.</p>

<p>Some databases have specialize fields for 128 bit values, such as PostgreSQL and its UUID extensions. PostgreSQL states that a UUID field will accept a string that is lowercase and that omits dashes. PostgreSQL does not do any validity-checking on the UUID value. Thus it is viable to store an XID in a UUID field. Our team has a goal to create a PostgreSQL extension for the XID data type.</p>

<h2>Changes</h2>

<ul>
<li>2015-02-12 3.3.0 Add XID.digest(s)</li>
<li>2015-02-12 3.2.0 Add XID.new(s) to initialize with a given string.</li>
<li>2015-02-12 3.1.0 Add #digest.</li>
<li>2015-02-11 3.0.0 Upgrade to XID.</li>
<li>2013-08-20 2.1.0 Add #next to enable using this as an enumeration.</li>
<li>2013-08-18 2.0.0 Upgrade for Ruby 2.0.0; add .length and .choices methods.</li>
<li>2012-03-21 1.4.0 Upgrade for Ruby 1.9.3, minitest/spec, and improved docs.</li>
<li>2011-04-22 1.3.0 Update to 32 characters</li>
<li>2011-04-21 1.2.2 End support for Ruby 1.8.6</li>
</ul>

<h2>License</h2>

<p>You may choose any of these open source licenses:</p>

<ul>
<li>Apache License</li>
<li>BSD License</li>
<li>CreativeCommons License, Non-commercial Share Alike</li>
<li>GNU General Public License Version 2 (GPL 2)</li>
<li>GNU Lesser General Public License (LGPL)</li>
<li>MIT License</li>
<li>Perl Artistic License</li>
<li>Ruby License</li>
</ul>

<p>The software is provided &quot;as is&quot;, without warranty of any kind,
express or implied, including but not limited to the warranties of
merchantability, fitness for a particular purpose and noninfringement.</p>

<p>In no event shall the authors or copyright holders be liable for any
claim, damages or other liability, whether in an action of contract,
tort or otherwise, arising from, out of or in connection with the
software or the use or other dealings in the software.</p>

<p>This license is for the included software that is created by SixArm;
some of the included software may have its own licenses, copyrights,
authors, etc. and these do take precedence over the SixArm license.</p>

<p>Copyright (c) 2005-2015 Joel Parker Henderson</p>
</div></div>

    <div id="footer">
  Generated on Thu Feb 12 05:12:46 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.2.0).
</div>

  </body>
</html>